var BrickCms;!function(c){var t=window.jQuery||window.$,e=window.Cookies;c.myProperty="Hello, world!",c.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},c.encode=function(e){try{return encodeURIComponent(e)}catch(t){return e}},c.queryParseString=function(t){t=(t||"").replace("?","").replace("#","");for(var e=/(\w+)\[(\d+)\]/,n=c.decode,r={},o=t.split("&"),i=0;i<o.length;i++){var u=o[i].split("="),a=n(u[0]),a=e.exec(a);a?(r[a[1]]=r[a[1]]||[],r[a[1]][a[2]]=n(u[1])):r[u[0]]=n(u[1]||"")}return r},c.queryStringify=function(t,e){var n,r,o,i=c.encode,u=[];for(n in t)t.hasOwnProperty(n)&&(r=e?e+"["+n+"]":n,o=t[n],u.push(null!==o&&"object"==typeof o?c.queryStringify(o,r):i(r)+"="+i(o)));return u.join("&")},c.geoDistance=function(t,e,n,r,o){function i(t){return t*Math.PI/180}var t={latitude:t,longitude:e},e={latitude:n,longitude:r},n={km:6371,mile:3960,meter:6371e3,nmi:3440},r=(o=o||{}).unit in n?n[o.unit]:n.km,n=i(e.latitude-t.latitude),u=i(e.longitude-t.longitude),t=i(t.latitude),e=i(e.latitude),n=Math.sin(n/2)*Math.sin(n/2)+Math.sin(u/2)*Math.sin(u/2)*Math.cos(t)*Math.cos(e),u=2*Math.atan2(Math.sqrt(n),Math.sqrt(1-n));return o.threshold?o.threshold>r*u:r*u},c.geoOrderByOrigin=function(t,n,e){var r=[];t.forEach(function(t){var e=c.geoDistance(n.Latitude,n.Longitude,t.Latitude,t.Longitude,{unit:"mile"});r.push({point:t,distance:e})}),c.sortOn(r,"distance"),e({origin:n,results:r})},c.sortOn=function(t,n){return t?t.length<=0?[]:("string"==typeof t[0][n]?t.sort(function(t,e){return(t[n]&&t[n].toLowerCase())<(e[n]&&e[n].toLowerCase())?-1:(t[n]&&t[n].toLowerCase())>(e[n]&&e[n].toLowerCase())?1:0}):t.sort(function(t,e){return t[n]<e[n]?-1:t[n]>e[n]?1:0}),t):null},c.storeSelect=function(t){e.set("myStoreId",t)},c.load=function(){t.getJSON("https://cdn2.brickinc.net/geoipme/?buster="+(new Date).getTime(),function(t){c.myGeo=t})}}(BrickCms=BrickCms||{});