!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("BrickCms",[],t):"object"==typeof exports?exports.BrickCms=t():e.BrickCms=t()}(self,()=>{return r={"./node_modules/js-cookie/dist/js.cookie.js":function(e){e.exports=function(){"use strict";function c(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var r in o)e[r]=o[r]}return e}var e,t;function r(u,i){function o(e,t,o){if(typeof document==="undefined")return;o=c({},i,o);if(typeof o.expires==="number")o.expires=new Date(Date.now()+o.expires*864e5);if(o.expires)o.expires=o.expires.toUTCString();e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var r="";for(var n in o){if(!o[n])continue;r+="; "+n;if(o[n]===true)continue;r+="="+o[n].split(";")[0]}return document.cookie=e+"="+u.write(t,e)+r}function e(e){if(typeof document==="undefined"||arguments.length&&!e)return;var t=document.cookie?document.cookie.split("; "):[];var o={};for(var r=0;r<t.length;r++){var n=t[r].split("=");var i=n.slice(1).join("=");try{var c=decodeURIComponent(n[0]);o[c]=u.read(i,c);if(e===c)break}catch(e){}}return e?o[e]:o}return Object.create({set:o,get:e,remove:function(e,t){o(e,"",c({},t,{expires:-1}))},withAttributes:function(e){return r(this.converter,c({},this.attributes,e))},withConverter:function(e){return r(c({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(u)}})}return r({read:function(e){if(e[0]==='"')e=e.slice(1,-1);return e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},"./src/brickcms.ts":(e,t,o)=>{"use strict";var r=o("./node_modules/js-cookie/dist/js.cookie.js"),n=window.jQuery||window.$,o=(i.prototype.doGeoIP=function(e,t){t({latitude:1,longitude:1})},i.prototype.myStoreId=function(){return r.get("myStoreId")},i.prototype.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},i.prototype.encode=function(t){try{return encodeURIComponent(t)}catch(e){return t}},i.prototype.queryParseString=function(e){e=(e||"").replace("?","").replace("#","");for(var t=/(\w+)\[(\d+)\]/,o=this.decode,r={},n=e.split("&"),i=0;i<n.length;i++){var c=n[i].split("="),u=o(c[0]),u=t.exec(u);u?(r[u[1]]=r[u[1]]||[],r[u[1]][u[2]]=o(c[1])):r[c[0]]=o(c[1]||"")}return r},i.prototype.queryStringify=function(e,t){var o,r,n,i=this.encode,c=[];for(o in e)e.hasOwnProperty(o)&&(r=t?t+"["+o+"]":o,n=e[o],c.push(null!==n&&"object"==typeof n?this.queryStringify(n,r):i(r)+"="+i(n)));return c.join("&")},i.prototype.geoDistance=function(e,t,o,r,n){function i(e){return e*Math.PI/180}var e={latitude:e,longitude:t},t={latitude:o,longitude:r},o={km:6371,mile:3960,meter:6371e3,nmi:3440},r=(n=n||{}).unit in o?o[n.unit]:o.km,o=i(t.latitude-e.latitude),c=i(t.longitude-e.longitude),e=i(e.latitude),t=i(t.latitude),o=Math.sin(o/2)*Math.sin(o/2)+Math.sin(c/2)*Math.sin(c/2)*Math.cos(e)*Math.cos(t),c=2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o));return n.threshold?n.threshold>r*c:r*c},i.prototype.geoOrderByOrigin=function(e,o,t){var r=this,n=[];e.forEach(function(e){var t=r.geoDistance(o.Latitude,o.Longitude,e.Latitude,e.Longitude,{unit:"mile"});n.push({point:e,distance:t})}),this.sortOn(n,"distance"),t({origin:o,results:n})},i.prototype.storeSelect=function(e){r.set("myStoreId",e)},i.prototype.sortOn=function(e,o){return e?e.length<=0?[]:("string"==typeof e[0][o]?e.sort(function(e,t){return(e[o]&&e[o].toLowerCase())<(t[o]&&t[o].toLowerCase())?-1:(e[o]&&e[o].toLowerCase())>(t[o]&&t[o].toLowerCase())?1:0}):e.sort(function(e,t){return e[o]<t[o]?-1:e[o]>t[o]?1:0}),e):null},i.prototype.load=function(){var t=this;n.getJSON("https://cdn2.brickinc.net/geoipme/?buster="+(new Date).getTime(),function(e){t.myGeo=e})},i);function i(){}e.exports=new o}},n={},function e(t){var o=n[t];return void 0===o&&(o=n[t]={exports:{}},r[t].call(o.exports,o,o.exports,e)),o.exports}("./src/brickcms.ts");var r,n});